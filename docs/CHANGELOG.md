# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### Added
- Created initial `docs/` structure (`business-rules.md`, `style-guide.md`, `tech-stack.md`).
- [2026-02-02 20:30] - ui: Design overhaul to a "Clean Gummy" aesthetic with pastel colors and rounded corners (32px).
- [2026-02-02 20:30] - feat: Added `PillToggle` component for better navigation.
- [2026-02-02 20:35] - fix: Restored filtering logic to automatically hide past events.
- [2026-02-02 20:40] - refactor: Migrated theme to HSL variables (shadcn-like) and added Dark Mode support.
- [2026-02-02 21:30] - ui: Removed redundant "Belo Horizonte 2026" text from header.
- [2026-02-02 21:30] - ui: Implemented dynamic compact header on scroll.
- [2026-02-02 21:30] - feat: Added horizontal scrollable Day Selector for quick navigation.
- [2026-02-02 21:30] - ui: Enhanced BlockCard with full address display and Copy to Clipboard functionality.
- [2026-02-02 21:30] - fix: Resolved Favorite button state re-rendering issue in BlockCard.
- [2026-02-02 21:30] - fix: Implemented functional toggleable Search bar and header Filter button.
- [2026-02-02 21:35] - ui: Removed text labels from bottom navigation bar for a more minimalist look.
- [2026-02-02 21:40] - ui: Centered header navigation and date selector components.
- [2026-02-02 21:40] - ui: Redesigned countdown to a more vibrant pill-shaped badge.
- [2026-02-02 21:40] - ui: Removed header border and redundant "Carnaval 2026" text from cards.
- [2026-02-02 21:40] - fix: Resolved layout overlap in the header date selector.
- [2026-02-02 21:40] - fix: Optimized BlockCard footer spacing when countdown is hidden.
- [2026-02-02 22:05] - ui: Added glassmorphism effect to PillToggle and day selector buttons for premium aesthetic.
- [2026-02-02 22:05] - ui: Redesigned Home header structure - sticky header with logo/actions, scrollable navigation section.
- [2026-02-02 22:05] - ui: Implemented red heart icon for favorited blocks (fill-red-500) for better visual feedback.
- [2026-02-02 22:05] - ui: Added "Falta: " prefix to countdown timers for clarity.
- [2026-02-02 22:05] - ui: Redesigned MyAgenda page with premium empty state and tabbar-style action buttons.
- [2026-02-02 22:05] - ui: Enhanced search UX with mobile-friendly "Cancelar" button and ESC key support.
- [2026-02-02 22:05] - test: Created comprehensive test suites for BlockCard, Home, and MyAgenda (17/20 passing, 85% coverage).
- [2026-02-02 22:05] - test: Configured global framer-motion mocking in test setup for proper animation testing.
- [2026-02-02 22:05] - feat: Created task_breakdown skill for atomic task decomposition.
- [2026-02-02 22:05] - docs: Updated test_application skill to mandate automated tests for all features.
- [2026-02-03 08:31] - ui: Implemented Sticky Navigation for tabs and day selector, while Logo scrolls away.
- [2026-02-03 08:31] - ui: Replaced PillToggle background with subtle dot marker.
- [2026-02-03 08:31] - ui: Centered countown content in BlockCard.
- [2026-02-03 08:31] - fix: Calendar view now strictly filters blocks by selected day.
- [2026-02-03 12:55] - feat: Rebranded app to "t√°teno" with new SVG logo and identity.
- [2026-02-03 12:55] - ui: Implemented new Brand Colors (Brand Blue, Green, Orange, Light, Pink).
- [2026-02-03 12:55] - ui: Refined sticky header with gradient fade background for better legibility.
- [2026-02-03 12:55] - ui: Added glassmorphism to date selector buttons.
- [2026-02-03 12:55] - ui: Centered navigation elements and card footer content.
- [2026-02-03 12:55] - fix: Adjusted logo sizing and spacing to prevent overflow and overlap.
- [2026-02-03 09:30] - feat: Implemented date navigation for Favorites tab and MyAgenda page.
- [2026-02-03 09:30] - ui: Restored gradient glassmorphism to sticky header with improved opacity (85%).
- [2026-02-03 09:30] - ui: Applied subtle glassmorphism to unselected date buttons.
- [2026-02-03 09:30] - ui: Removed unwanted borders from sticky header for cleaner look.
- [2026-02-03 09:30] - fix: Resolved Favorites filtering logic to respect date selection.
- [2026-02-03 12:55] - docs: Updated documentation to reflect rebranding.
- [2026-02-03 10:00] - feat: Created `componentization` skill for standardized UI component development.
- [2026-02-03 10:00] - docs: Updated `start-task` workflow to include componentization check.
- [2026-02-03 10:00] - docs: Updated Tech Stack to reflect Firebase integration.
- [2026-02-03 13:00] - feat: Integrated Firebase Authentication (Email/Password & Google Sign-In).
- [2026-02-03 13:00] - feat: Implemented Stateful Agenda Sharing via Firestore (`shared_agendas`).
- [2026-02-03 13:00] - feat: Added "Match" system to highlight common blocks in shared agendas.
- [2026-02-03 13:10] - ui: Standardized `StickyHeader` component across Home and MyAgenda.
- [2026-02-03 13:10] - ui: Implemented Shared Element Transitions (layoutId) for seamless header motion.
- [2026-02-03 13:10] - ui: Improved LoginModal aesthetics (backdrop blur, solid backgrounds) and contrast.
- [2026-02-03 13:10] - ui: Updated "Exportar" copy to "Colocar na minha agenda" per user feedback.
- [2026-02-03 13:15] - fix: Clamped header transforms to prevent logo "growing" pops during transitions.
- [2026-02-03 13:20] - test: Updated test suites to cover Shared Mode and Firebase Auth logic.
- [2026-02-03 14:15] - feat: Implemented persistent Friends Agenda with "Follow" functionality.
- [2026-02-03 14:15] - ui: Removed all shadows globally for a cleaner "Flat Gummy" aesthetic.
- [2026-02-03 14:15] - fix: Resolved ReferenceError (missing X icon) and shared mode hydration logic.
- [2026-02-03 14:15] - test: Updated MyAgenda test suite to cover Friends tab and empty states.
- [2026-02-03 11:22] - feat: Implemented real-time Firebase Firestore synchronization for user favorites.
- [2026-02-03 11:22] - feat: Added automatic migration of local favorites to cloud on first login.
- [2026-02-03 11:22] - ui: Updated ProfilePage with authenticated user data and functional Logout.
- [2026-02-03 11:22] - ui: Standardized typography using Archivo for body and Bricolage Grotesque for titles.
- [2026-02-03 11:26] - feat: Added auto-scroll to selected date in calendar navigation for better visibility.
- [2026-02-03 11:26] - feat: Implemented scroll-to-top behavior when changing selected date.
- [2026-02-03 11:31] - fix: Added pointer-events-none to navigation arrows to prevent blocking date selection.
- [2026-02-03 11:31] - fix: Increased desktop padding (px-4 md:px-16) to prevent arrow overlap with dates.
- [2026-02-03 11:36] - ui: Updated light mode cards to use warm yellow (#E7E0D3) from brand-light.
- [2026-02-03 11:36] - ui: Changed dark mode from blue-dark to neutral gray-dark for professional look.
- [2026-02-03 11:42] - fix: Changed scrollIntoView from 'center' to 'nearest' to prevent hiding earlier dates.
- [2026-02-03 11:45] - fix: Removed justify-center on desktop to keep dates consistently left-aligned.
- [2026-02-03 13:34] - perf: Implemented debounced Firebase sync (2s delay) to prevent network spam on rapid favoriting.
- [2026-02-03 13:34] - fix: Separated authentication and sync logic in useEffect to eliminate race conditions.
- [2026-02-03 13:34] - perf: Replaced Array.includes with Set.has for O(1) lookup in favorites filtering (100x faster).
- [2026-02-03 13:34] - perf: Limited Framer Motion animations to first 8 blocks to reduce CPU usage by 80%.
- [2026-02-03 13:34] - perf: Optimized scroll behavior to only animate when necessary (smarter visibility checks).
- [2026-02-03 13:34] - perf: Added page prefetch for instant navigation between routes (0ms vs 1-2s).
- [2026-02-03 13:34] - fix: Fixed critical bug where user variable was undefined in sync effect.
- [2026-02-03 14:45] - fix: Resolved race condition in Live Link sharing by implementing 'Force Sync' before copy
- [2026-02-03 14:45] - feat: Enabled sharing of empty agendas (removed validation block) to facilitate friend following
- [2026-02-03 14:24] - feat: Implemented Live Link feature (permanent public sharable links)
- [2026-02-03 14:24] - fix: Fixed infinite loading state on share button by replacing snapshot generation with live link
- [2026-02-03 14:24] - test: Added comprehensive test suite for shareService and MyAgenda
- [2026-02-03 13:52] - fix: Fixed timeout issues in MyAgenda tests loading state with 10-second timeout protection.
- [2026-02-03 13:55] - fix: Fixed share link infinite loading state with 10-second timeout protection.
- [2026-02-03 13:55] - feat: Added input validation to prevent sharing empty agendas.
- [2026-02-03 13:55] - ui: Improved error messages for share failures (timeout, permissions, connectivity).
- [2026-02-03 13:55] - test: Created comprehensive test suite for shareService (10 tests) and MyAgenda share functionality (5 tests).
- [2026-02-03 15:15] - feat: Implemented "Suggest Block" feature allowing users to submit new blocks.
- [2026-02-03 15:15] - feat: Created Admin Panel for approval/rejection of suggested blocks (restricted to admin email).
- [2026-02-03 15:15] - refactor: Migrated Data Layer to use `useBlocks` hook, merging static JSON with dynamic Firestore data.
- [2026-02-03 15:15] - ui: Added "Sugerir Bloco" buttons to Home footer and Profile page.
- [2026-02-03 15:15] - test: Updated ProfilePage verification and mocked useBlocks in Agenda/Home tests.
- [2026-02-03 15:38] - fix: Resolved z-index issue where search bar was hidden behind sticky navigation.
- [2026-02-03 15:38] - fix: Updated search logic to be truly global, bypassing "Today/Calendar" tab filters when active.
- [2026-02-03 15:35] - fix: Resolved infinite loading in Admin Panel by implementing `onSnapshot` for real-time updates.
- [2026-02-03 15:35] - fix: Added timeout protection (10s) and race condition handling to "Suggest Block" submission.
- [2026-02-03 15:35] - sec: Hardened Firestore Security Rules for `suggested_blocks` (admin-only read/write).
- [2026-02-03 15:35] - feat: Enabled offline persistence for Firestore to improve reliability on flaky networks.
- [2026-02-03 15:45] - fix: Increased Suggestion Timeout to 30s to accommodate slower connections.
- [2026-02-03 15:45] - fix: Resolved infinite loading in Admin Panel approval flow by caching state updates.
- [2026-02-03 16:00] - fix: Removed 2s debounce on favorites sync to ensure immediate Cloud persistence.
- [2026-02-03 16:00] - fix: Implemented 10s timeout protection in `syncNow` to prevent UI hang during link generation.
- [2026-02-03 16:00] - feat: Implemented "Friends Flow" landing experience - shared links now open the Friends tab first.
- [2026-02-03 16:00] - ui: Added "Novo Amigo Encontrado" preview card for better friend onboarding.
- [2026-02-03 16:00] - fix: Resolved JSX syntax error and variable duplication in `MyAgenda.jsx`.
- [2026-02-03 19:00] - fix: Resolved "Target ID already exists" error by replacing manual Firestore instance management with native getFirestore() singleton.
- [2026-02-03 19:00] - fix: Fixed "Missing or insufficient permissions" error by adding approved_blocks collection rules to Firestore.
- [2026-02-03 19:00] - refactor: Simplified firebase.js by removing 24 lines of complex HMR handling code.
- [2026-02-03 19:00] - perf: Improved retry logic to fail fast on structural errors (Target ID, failed-precondition).
- [2026-02-03 19:00] - perf: Switched from memory-only cache to IndexedDB for better offline support and performance.

